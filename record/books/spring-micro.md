# 스프링으로 하는 마이크로서비스 구축

## 1장. 마이크로서비스 소개

### 독립 소프트웨어 컴포넌트의 장점
- 플랫폼의 각 컴포넌트는 개별적으로 배포, 업그레이드할 수 있다.
- API가 명확하기 때문에 다른 컴포넌트의 수명 주기와 상관 없이 컴포넌트를 업그레이드할 수 있다.
- 플랫폼의 각 컴포넌트를 다른 컴포넌트와 상관 없이 여러 서버로 스케일 아웃 할 수 있다.

### 독립 소프트웨어 컴포넌트의 문제
- 컴포넌트의 새 인스턴스를 추가하려면 수동으로 로드 밸런서를 구성하고, 새 노드를 수동으로 설정해야 한다.
- 통신하는 다른 시스템에서 오류가 발생했을 때 플랫폼으로 전이된다는 근본적인 문제가 있다. 플랫폼에서 보낸 요청에 다른 시스템에 제시간에 응답하지 않으면 플랫폼이 동시에 많은 요청을 받았을 때 OS 스레드와 같은 주요 자원이 부족하게 된다. 플랫폼 내부 통신은 대부분 동기식이기 때문에 연속적인 오류를 유발한다. 즉 중단된 컴포넌트의 클라이언트도 곧 중단된다. 이것을 연쇄 장애(chain of failure)라고 한다.
- 모든 컴포넌트 인스턴스의 구성을 일관성 있게 최신 상태로 유지하는 작업에도 많은 문제점이 있어서 반복적인 수작업이 자주 발생
- 지연 시간 문제 및 하드웨어 사용량 측면에서 플랫폼 상태를 모니터링하는 작업은 일체형 애플리케이션의 인스턴스 하나를 모니터링하는 것과 비교하면 훨씬 복잡하다.
- 분산된 여러 컴포넌트에서 로그 파일을 수집하고 관련된 컴포넌트 로그 이벤트를 상호 연관시키는 것도 어려운 작업이지만, 컴포넌트의 수를 미리 알고 있다면 실현 가능
- 앞에 언급한 대부분의 문제점은 자체 개발 도구와 수동 처리를 위한 문서화된 지침으로 해결 가능

### 마이크로 서비스 입문